---
import "$styles/theme.css";

const { title, description, date, url } = Astro.props;
---

<a href={url}>
    <div id="container">
        <div id="info-container">
            <p id="title">{title}</p>
            <p id="date">{date && (
                        <time dateTime={date.toISOString()}>
                            {date.toLocaleDateString("en-US", {
                            month: "short",
                            day: "numeric",
                            year: "numeric",
                            }).replace(",", "")
                            .replace(/(\d+)/, d => {
                            const n = parseInt(d, 10);
                            const suffix = n % 10 === 1 && n !== 11 ? "st"
                            : n % 10 === 2 && n !== 12 ? "nd"
                            : n % 10 === 3 && n !== 13 ? "rd"
                            : "th";
                            return `${n}${suffix}`;
                            })}
                        </time>
                        )}</p>
        </div>
        <p id="description">{description.length > 100 ? description.slice(0, 100) + "..." : description}</p>
    </div>
</a>


<style>
    #container {
        width: 100%;

        padding: 15px 25px 15px 25px;
        box-sizing: border-box;

        margin: 15px 0px 15px 0px;
    }

    #info-container {
        width: 100%;

        display: flex;
        justify-content: space-between;
    }

    #title {
        font-size: 1.2em;
        margin: 0;
    }

    #date {
        font-size: 0.8em;
        font-weight: 800;
        opacity: 0.3;
        margin: 0;
    }

    #description {
        opacity: 0.6;
        margin: 0;

        padding-top: 5px;
    }

    a {
        color: inherit;
        text-decoration: none;
    }

    @media (max-width: 800px) {
        #date { display: none; }
    }

</style>

